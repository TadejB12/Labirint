window.onload = function () {
    drawMaze();
    document.getElementById("restart").disabled = true;
};
function drawMaze(){
    const canvas = document.getElementById('maze');
    const ctx = canvas.getContext('2d');

    const maze = [
        { x: 2, y: 2 }, { x: 226, y: 2 }, { x: 242, y: 2 }, { x: 482, y: 2 }, { x: 34, y: 18 }, { x: 98, y: 18 }, { x: 130, y: 18 }, { x: 162, y: 18 },
        { x: 178, y: 18 }, { x: 194, y: 18 }, { x: 242, y: 18 }, { x: 274, y: 18 }, { x: 386, y: 18 }, { x: 402, y: 18 }, { x: 418, y: 18 }, { x: 434, y: 18 },
        { x: 450, y: 18 }, { x: 466, y: 18 }, { x: 18, y: 34 }, { x: 50, y: 34 }, { x: 82, y: 34 }, { x: 130, y: 34 }, { x: 162, y: 34 }, { x: 178, y: 34 },
        { x: 226, y: 34 }, { x: 242, y: 34 }, { x: 306, y: 34 }, { x: 354, y: 34 }, { x: 370, y: 34 }, { x: 386, y: 34 }, { x: 402, y: 34 }, { x: 418, y: 34 },
        { x: 434, y: 34 }, { x: 466, y: 34 }, { x: 2, y: 50 }, { x: 50, y: 50 }, { x: 66, y: 50 }, { x: 114, y: 50 }, { x: 130, y: 50 }, { x: 146, y: 50 },
        { x: 178, y: 50 }, { x: 194, y: 50 }, { x: 226, y: 50 }, { x: 242, y: 50 }, { x: 258, y: 50 }, { x: 290, y: 50 }, { x: 322, y: 50 }, { x: 370, y: 50 },
        { x: 386, y: 50 }, { x: 434, y: 50 }, { x: 18, y: 66 }, { x: 66, y: 66 }, { x: 82, y: 66 }, { x: 178, y: 66 }, { x: 194, y: 66 }, { x: 210, y: 66 },
        { x: 226, y: 66 }, { x: 242, y: 66 }, { x: 258, y: 66 }, { x: 274, y: 66 }, { x: 290, y: 66 }, { x: 306, y: 66 }, { x: 338, y: 66 }, { x: 354, y: 66 },
        { x: 370, y: 66 }, { x: 386, y: 66 }, { x: 418, y: 66 }, { x: 482, y: 66 }, { x: 34, y: 82 }, { x: 50, y: 82 }, { x: 114, y: 82 }, { x: 146, y: 82 },
        { x: 226, y: 82 }, { x: 258, y: 82 }, { x: 290, y: 82 }, { x: 338, y: 82 }, { x: 354, y: 82 }, { x: 418, y: 82 }, { x: 450, y: 82 }, { x: 466, y: 82 },
        { x: 18, y: 98 }, { x: 34, y: 98 }, { x: 66, y: 98 }, { x: 114, y: 98 }, { x: 178, y: 98 }, { x: 194, y: 98 }, { x: 210, y: 98 }, { x: 290, y: 98 },
        { x: 338, y: 98 }, { x: 354, y: 98 }, { x: 434, y: 98 }, { x: 450, y: 98 }, { x: 34, y: 114 }, { x: 114, y: 114 }, { x: 130, y: 114 }, { x: 178, y: 114 },
        { x: 226, y: 114 }, { x: 306, y: 114 }, { x: 338, y: 114 }, { x: 370, y: 114 }, { x: 402, y: 114 }, { x: 434, y: 114 }, { x: 466, y: 114 }, { x: 482, y: 114 },
        { x: 18, y: 130 }, { x: 34, y: 130 }, { x: 50, y: 130 }, { x: 66, y: 130 }, { x: 114, y: 130 }, { x: 130, y: 130 }, { x: 146, y: 130 }, { x: 194, y: 130 },
        { x: 242, y: 130 }, { x: 274, y: 130 }, { x: 306, y: 130 }, { x: 322, y: 130 }, { x: 354, y: 130 }, { x: 466, y: 130 }, { x: 2, y: 146 }, { x: 18, y: 146 },
        { x: 34, y: 146 }, { x: 82, y: 146 }, { x: 98, y: 146 }, { x: 114, y: 146 }, { x: 178, y: 146 }, { x: 210, y: 146 }, { x: 226, y: 146 }, { x: 242, y: 146 },
        { x: 274, y: 146 }, { x: 354, y: 146 }, { x: 370, y: 146 }, { x: 434, y: 146 }, { x: 466, y: 146 }, { x: 482, y: 146 }, { x: 18, y: 162 }, { x: 66, y: 162 },
        { x: 82, y: 162 }, { x: 98, y: 162 }, { x: 114, y: 162 }, { x: 146, y: 162 }, { x: 210, y: 162 }, { x: 242, y: 162 }, { x: 258, y: 162 }, { x: 338, y: 162 },
        { x: 418, y: 162 }, { x: 466, y: 162 }, { x: 18, y: 178 }, { x: 34, y: 178 }, { x: 66, y: 178 }, { x: 114, y: 178 }, { x: 162, y: 178 }, { x: 210, y: 178 },
        { x: 242, y: 178 }, { x: 258, y: 178 }, { x: 274, y: 178 }, { x: 306, y: 178 }, { x: 322, y: 178 }, { x: 370, y: 178 }, { x: 402, y: 178 }, { x: 450, y: 178 },
        { x: 466, y: 178 }, { x: 482, y: 178 }, { x: 2, y: 194 }, { x: 34, y: 194 }, { x: 50, y: 194 }, { x: 66, y: 194 }, { x: 98, y: 194 }, { x: 146, y: 194 },
        { x: 258, y: 194 }, { x: 290, y: 194 }, { x: 306, y: 194 }, { x: 370, y: 194 }, { x: 386, y: 194 }, { x: 418, y: 194 }, { x: 450, y: 194 }, { x: 466, y: 194 },
        { x: 2, y: 210 }, { x: 50, y: 210 }, { x: 66, y: 210 }, { x: 82, y: 210 }, { x: 146, y: 210 }, { x: 162, y: 210 }, { x: 178, y: 210 }, { x: 194, y: 210 },
        { x: 210, y: 210 }, { x: 274, y: 210 }, { x: 354, y: 210 }, { x: 386, y: 210 }, { x: 450, y: 210 }, { x: 482, y: 210 }, { x: 18, y: 226 }, { x: 34, y: 226 },
        { x: 66, y: 226 }, { x: 178, y: 226 }, { x: 194, y: 226 }, { x: 210, y: 226 }, { x: 242, y: 226 }, { x: 306, y: 226 }, { x: 354, y: 226 }, { x: 370, y: 226 },
        { x: 402, y: 226 }, { x: 434, y: 226 }, { x: 450, y: 226 }, { x: 466, y: 226 }, { x: 18, y: 242 }, { x: 50, y: 242 }, { x: 130, y: 242 }, { x: 162, y: 242 },
        { x: 178, y: 242 }, { x: 210, y: 242 }, { x: 226, y: 242 }, { x: 258, y: 242 }, { x: 290, y: 242 }, { x: 322, y: 242 }, { x: 338, y: 242 }, { x: 354, y: 242 },
        { x: 370, y: 242 }, { x: 386, y: 242 }, { x: 418, y: 242 }, { x: 434, y: 242 }, { x: 450, y: 242 }, { x: 482, y: 242 }, { x: 66, y: 258 }, { x: 114, y: 258 },
        { x: 162, y: 258 }, { x: 178, y: 258 }, { x: 210, y: 258 }, { x: 226, y: 258 }, { x: 242, y: 258 }, { x: 290, y: 258 }, { x: 306, y: 258 }, { x: 322, y: 258 },
        { x: 354, y: 258 }, { x: 402, y: 258 }, { x: 418, y: 258 }, { x: 466, y: 258 }, { x: 2, y: 274 }, { x: 34, y: 274 }, { x: 50, y: 274 }, { x: 114, y: 274 },
        { x: 146, y: 274 }, { x: 210, y: 274 }, { x: 290, y: 274 }, { x: 322, y: 274 }, { x: 370, y: 274 }, { x: 386, y: 274 }, { x: 418, y: 274 }, { x: 466, y: 274 },
        { x: 34, y: 290 }, { x: 98, y: 290 }, { x: 130, y: 290 }, { x: 146, y: 290 }, { x: 242, y: 290 }, { x: 370, y: 290 }, { x: 402, y: 290 }, { x: 450, y: 290 },
        { x: 18, y: 306 }, { x: 66, y: 306 }, { x: 114, y: 306 }, { x: 194, y: 306 }, { x: 226, y: 306 }, { x: 242, y: 306 }, { x: 290, y: 306 }, { x: 338, y: 306 },
        { x: 354, y: 306 }, { x: 370, y: 306 }, { x: 386, y: 306 }, { x: 418, y: 306 }, { x: 450, y: 306 }, { x: 466, y: 306 }, { x: 2, y: 322 }, { x: 18, y: 322 },
        { x: 34, y: 322 }, { x: 50, y: 322 }, { x: 146, y: 322 }, { x: 178, y: 322 }, { x: 242, y: 322 }, { x: 258, y: 322 }, { x: 290, y: 322 }, { x: 306, y: 322 },
        { x: 338, y: 322 }, { x: 386, y: 322 }, { x: 402, y: 322 }, { x: 450, y: 322 }, { x: 466, y: 322 }, { x: 482, y: 322 }, { x: 18, y: 338 }, { x: 34, y: 338 },
        { x: 50, y: 338 }, { x: 98, y: 338 }, { x: 130, y: 338 }, { x: 146, y: 338 }, { x: 258, y: 338 }, { x: 290, y: 338 }, { x: 306, y: 338 }, { x: 322, y: 338 },
        { x: 370, y: 338 }, { x: 418, y: 338 }, { x: 434, y: 338 }, { x: 482, y: 338 }, { x: 50, y: 354 }, { x: 66, y: 354 }, { x: 98, y: 354 }, { x: 114, y: 354 },
        { x: 146, y: 354 }, { x: 210, y: 354 }, { x: 242, y: 354 }, { x: 290, y: 354 }, { x: 322, y: 354 }, { x: 338, y: 354 }, { x: 370, y: 354 }, { x: 386, y: 354 },
        { x: 418, y: 354 }, { x: 434, y: 354 }, { x: 2, y: 370 }, { x: 18, y: 370 }, { x: 34, y: 370 }, { x: 50, y: 370 }, { x: 82, y: 370 }, { x: 98, y: 370 },
        { x: 114, y: 370 }, { x: 146, y: 370 }, { x: 162, y: 370 }, { x: 226, y: 370 }, { x: 258, y: 370 }, { x: 418, y: 370 }, { x: 434, y: 370 }, { x: 466, y: 370 },
        { x: 18, y: 386 }, { x: 34, y: 386 }, { x: 98, y: 386 }, { x: 114, y: 386 }, { x: 146, y: 386 }, { x: 178, y: 386 }, { x: 242, y: 386 }, { x: 258, y: 386 },
        { x: 274, y: 386 }, { x: 290, y: 386 }, { x: 338, y: 386 }, { x: 386, y: 386 }, { x: 402, y: 386 }, { x: 450, y: 386 }, { x: 466, y: 386 }, { x: 482, y: 386 },
        { x: 34, y: 402 }, { x: 50, y: 402 }, { x: 82, y: 402 }, { x: 146, y: 402 }, { x: 178, y: 402 }, { x: 194, y: 402 }, { x: 210, y: 402 }, { x: 274, y: 402 },
        { x: 290, y: 402 }, { x: 338, y: 402 }, { x: 354, y: 402 }, { x: 418, y: 402 }, { x: 450, y: 402 }, { x: 466, y: 402 }, { x: 2, y: 418 }, { x: 18, y: 418 },
        { x: 50, y: 418 }, { x: 66, y: 418 }, { x: 162, y: 418 }, { x: 178, y: 418 }, { x: 226, y: 418 }, { x: 258, y: 418 }, { x: 274, y: 418 }, { x: 290, y: 418 },
        { x: 306, y: 418 }, { x: 322, y: 418 }, { x: 338, y: 418 }, { x: 354, y: 418 }, { x: 386, y: 418 }, { x: 402, y: 418 }, { x: 418, y: 418 }, { x: 434, y: 418 },
        { x: 18, y: 434 }, { x: 34, y: 434 }, { x: 114, y: 434 }, { x: 226, y: 434 }, { x: 242, y: 434 }, { x: 306, y: 434 }, { x: 322, y: 434 }, { x: 338, y: 434 },
        { x: 354, y: 434 }, { x: 370, y: 434 }, { x: 386, y: 434 }, { x: 418, y: 434 }, { x: 434, y: 434 }, { x: 466, y: 434 }, { x: 2, y: 450 }, { x: 50, y: 450 },
        { x: 66, y: 450 }, { x: 98, y: 450 }, { x: 130, y: 450 }, { x: 146, y: 450 }, { x: 162, y: 450 }, { x: 210, y: 450 }, { x: 226, y: 450 }, { x: 242, y: 450 },
        { x: 274, y: 450 }, { x: 290, y: 450 }, { x: 338, y: 450 }, { x: 386, y: 450 }, { x: 450, y: 450 }, { x: 466, y: 450 }, { x: 34, y: 466 }, { x: 66, y: 466 },
        { x: 98, y: 466 }, { x: 114, y: 466 }, { x: 130, y: 466 }, { x: 162, y: 466 }, { x: 178, y: 466 }, { x: 194, y: 466 }, { x: 210, y: 466 }, { x: 258, y: 466 },
        { x: 274, y: 466 }, { x: 306, y: 466 }, { x: 322, y: 466 }, { x: 370, y: 466 }, { x: 386, y: 466 }, { x: 402, y: 466 }, { x: 466, y: 466 }, { x: 482, y: 466 },
        { x: 2, y: 482 }, { x: 242, y: 482 }, { x: 258, y: 482 }, { x: 482, y: 482 }, { x: 2, y: 2 }, { x: 2, y: 482 }, { x: 18, y: 2 }, { x: 18, y: 18 },
        { x: 18, y: 66 }, { x: 18, y: 130 }, { x: 18, y: 162 }, { x: 18, y: 178 }, { x: 18, y: 242 }, { x: 18, y: 258 }, { x: 18, y: 290 }, { x: 18, y: 306 },
        { x: 18, y: 322 }, { x: 18, y: 354 }, { x: 18, y: 386 }, { x: 18, y: 418 }, { x: 18, y: 466 }, { x: 18, y: 482 }, { x: 34, y: 130 }, { x: 34, y: 146 },
        { x: 34, y: 226 }, { x: 34, y: 242 }, { x: 34, y: 258 }, { x: 34, y: 290 }, { x: 34, y: 306 }, { x: 34, y: 322 }, { x: 34, y: 354 }, { x: 34, y: 370 },
        { x: 34, y: 402 }, { x: 34, y: 434 }, { x: 34, y: 450 }, { x: 34, y: 466 }, { x: 50, y: 34 }, { x: 50, y: 50 }, { x: 50, y: 82 }, { x: 50, y: 130 },
        { x: 50, y: 162 }, { x: 50, y: 178 }, { x: 50, y: 194 }, { x: 50, y: 226 }, { x: 50, y: 242 }, { x: 50, y: 274 }, { x: 50, y: 322 }, { x: 50, y: 402 },
        { x: 50, y: 418 }, { x: 50, y: 450 }, { x: 66, y: 18 }, { x: 66, y: 98 }, { x: 66, y: 146 }, { x: 66, y: 162 }, { x: 66, y: 178 }, { x: 66, y: 194 },
        { x: 66, y: 210 }, { x: 66, y: 242 }, { x: 66, y: 306 }, { x: 66, y: 322 }, { x: 66, y: 370 }, { x: 66, y: 434 }, { x: 66, y: 450 }, { x: 66, y: 466 },
        { x: 82, y: 66 }, { x: 82, y: 82 }, { x: 82, y: 130 }, { x: 82, y: 146 }, { x: 82, y: 178 }, { x: 82, y: 210 }, { x: 82, y: 242 }, { x: 82, y: 258 },
        { x: 82, y: 290 }, { x: 82, y: 386 }, { x: 82, y: 418 }, { x: 82, y: 450 }, { x: 82, y: 466 }, { x: 82, y: 482 }, { x: 98, y: 66 }, { x: 98, y: 82 },
        { x: 98, y: 114 }, { x: 98, y: 162 }, { x: 98, y: 194 }, { x: 98, y: 210 }, { x: 98, y: 242 }, { x: 98, y: 258 }, { x: 98, y: 290 }, { x: 98, y: 322 },
        { x: 98, y: 370 }, { x: 98, y: 386 }, { x: 98, y: 402 }, { x: 98, y: 434 }, { x: 98, y: 450 }, { x: 98, y: 466 }, { x: 114, y: 2 }, { x: 114, y: 50 },
        { x: 114, y: 82 }, { x: 114, y: 98 }, { x: 114, y: 146 }, { x: 114, y: 178 }, { x: 114, y: 210 }, { x: 114, y: 242 }, { x: 114, y: 258 }, { x: 114, y: 370 },
        { x: 114, y: 386 }, { x: 114, y: 402 }, { x: 114, y: 418 }, { x: 114, y: 466 }, { x: 130, y: 98 }, { x: 130, y: 146 }, { x: 130, y: 178 }, { x: 130, y: 210 },
        { x: 130, y: 242 }, { x: 130, y: 290 }, { x: 130, y: 322 }, { x: 130, y: 386 }, { x: 130, y: 402 }, { x: 130, y: 418 }, { x: 130, y: 450 }, { x: 130, y: 466 },
        { x: 146, y: 18 }, { x: 146, y: 50 }, { x: 146, y: 66 }, { x: 146, y: 98 }, { x: 146, y: 130 }, { x: 146, y: 146 }, { x: 146, y: 162 }, { x: 146, y: 194 },
        { x: 146, y: 258 }, { x: 146, y: 274 }, { x: 146, y: 322 }, { x: 146, y: 338 }, { x: 146, y: 386 }, { x: 146, y: 402 }, { x: 146, y: 418 }, { x: 146, y: 434 },
        { x: 162, y: 2 }, { x: 162, y: 18 }, { x: 162, y: 34 }, { x: 162, y: 66 }, { x: 162, y: 82 }, { x: 162, y: 114 }, { x: 162, y: 146 }, { x: 162, y: 210 },
        { x: 162, y: 242 }, { x: 162, y: 258 }, { x: 162, y: 274 }, { x: 162, y: 306 }, { x: 162, y: 338 }, { x: 162, y: 370 }, { x: 162, y: 386 }, { x: 162, y: 418 },
        { x: 162, y: 450 }, { x: 162, y: 466 }, { x: 178, y: 18 }, { x: 178, y: 34 }, { x: 178, y: 50 }, { x: 178, y: 82 }, { x: 178, y: 98 }, { x: 178, y: 114 },
        { x: 178, y: 130 }, { x: 178, y: 162 }, { x: 178, y: 194 }, { x: 178, y: 226 }, { x: 178, y: 242 }, { x: 178, y: 258 }, { x: 178, y: 274 }, { x: 178, y: 290 },
        { x: 178, y: 322 }, { x: 178, y: 338 }, { x: 194, y: 34 }, { x: 194, y: 50 }, { x: 194, y: 66 }, { x: 194, y: 98 }, { x: 194, y: 114 }, { x: 194, y: 130 },
        { x: 194, y: 162 }, { x: 194, y: 210 }, { x: 194, y: 226 }, { x: 194, y: 242 }, { x: 194, y: 258 }, { x: 194, y: 274 }, { x: 194, y: 290 }, { x: 194, y: 354 },
        { x: 194, y: 370 }, { x: 194, y: 402 }, { x: 194, y: 418 }, { x: 194, y: 434 }, { x: 194, y: 466 }, { x: 194, y: 482 }, { x: 210, y: 2 }, { x: 210, y: 162 },
        { x: 210, y: 194 }, { x: 210, y: 226 }, { x: 210, y: 242 }, { x: 210, y: 258 }, { x: 210, y: 274 }, { x: 210, y: 290 }, { x: 210, y: 306 }, { x: 210, y: 354 },
        { x: 210, y: 386 }, { x: 210, y: 434 }, { x: 210, y: 450 }, { x: 210, y: 466 }, { x: 226, y: 2 }, { x: 226, y: 50 }, { x: 226, y: 66 }, { x: 226, y: 82 },
        { x: 226, y: 130 }, { x: 226, y: 146 }, { x: 226, y: 162 }, { x: 226, y: 194 }, { x: 226, y: 226 }, { x: 226, y: 242 }, { x: 226, y: 258 }, { x: 226, y: 290 },
        { x: 226, y: 306 }, { x: 226, y: 386 }, { x: 226, y: 434 }, { x: 226, y: 450 }, { x: 242, y: 146 }, { x: 242, y: 162 }, { x: 242, y: 178 }, { x: 242, y: 226 },
        { x: 242, y: 258 }, { x: 242, y: 306 }, { x: 242, y: 322 }, { x: 242, y: 370 }, { x: 242, y: 418 }, { x: 242, y: 434 }, { x: 258, y: 18 }, { x: 258, y: 50 },
        { x: 258, y: 82 }, { x: 258, y: 98 }, { x: 258, y: 130 }, { x: 258, y: 178 }, { x: 258, y: 242 }, { x: 258, y: 258 }, { x: 258, y: 274 }, { x: 258, y: 290 },
        { x: 258, y: 306 }, { x: 258, y: 322 }, { x: 258, y: 370 }, { x: 258, y: 386 }, { x: 258, y: 434 }, { x: 258, y: 482 }, { x: 274, y: 18 }, { x: 274, y: 34 },
        { x: 274, y: 50 }, { x: 274, y: 82 }, { x: 274, y: 226 }, { x: 274, y: 242 }, { x: 274, y: 258 }, { x: 274, y: 274 }, { x: 274, y: 290 }, { x: 274, y: 338 },
        { x: 274, y: 386 }, { x: 274, y: 418 }, { x: 274, y: 450 }, { x: 274, y: 466 }, { x: 290, y: 2 }, { x: 290, y: 50 }, { x: 290, y: 66 }, { x: 290, y: 98 },
        { x: 290, y: 114 }, { x: 290, y: 146 }, { x: 290, y: 194 }, { x: 290, y: 226 }, { x: 290, y: 242 }, { x: 290, y: 258 }, { x: 290, y: 274 }, { x: 290, y: 290 },
        { x: 290, y: 306 }, { x: 290, y: 322 }, { x: 290, y: 338 }, { x: 290, y: 354 }, { x: 290, y: 370 }, { x: 290, y: 386 }, { x: 306, y: 18 }, { x: 306, y: 66 },
        { x: 306, y: 98 }, { x: 306, y: 114 }, { x: 306, y: 162 }, { x: 306, y: 194 }, { x: 306, y: 210 }, { x: 306, y: 226 }, { x: 306, y: 322 }, { x: 306, y: 354 },
        { x: 306, y: 386 }, { x: 306, y: 402 }, { x: 306, y: 418 }, { x: 306, y: 466 }, { x: 322, y: 2 }, { x: 322, y: 18 }, { x: 322, y: 50 }, { x: 322, y: 66 },
        { x: 322, y: 82 }, { x: 322, y: 130 }, { x: 322, y: 210 }, { x: 322, y: 258 }, { x: 322, y: 306 }, { x: 322, y: 322 }, { x: 322, y: 354 }, { x: 322, y: 386 },
        { x: 322, y: 434 }, { x: 322, y: 482 }, { x: 338, y: 2 }, { x: 338, y: 18 }, { x: 338, y: 66 }, { x: 338, y: 82 }, { x: 338, y: 114 }, { x: 338, y: 146 },
        { x: 338, y: 194 }, { x: 338, y: 290 }, { x: 338, y: 306 }, { x: 338, y: 322 }, { x: 338, y: 338 }, { x: 338, y: 354 }, { x: 338, y: 386 }, { x: 338, y: 434 },
        { x: 354, y: 18 }, { x: 354, y: 34 }, { x: 354, y: 82 }, { x: 354, y: 98 }, { x: 354, y: 146 }, { x: 354, y: 178 }, { x: 354, y: 210 }, { x: 354, y: 226 },
        { x: 354, y: 258 }, { x: 354, y: 274 }, { x: 354, y: 290 }, { x: 354, y: 306 }, { x: 354, y: 322 }, { x: 354, y: 370 }, { x: 354, y: 434 }, { x: 354, y: 450 },
        { x: 370, y: 18 }, { x: 370, y: 114 }, { x: 370, y: 130 }, { x: 370, y: 162 }, { x: 370, y: 226 }, { x: 370, y: 258 }, { x: 370, y: 274 }, { x: 370, y: 290 },
        { x: 370, y: 338 }, { x: 370, y: 354 }, { x: 370, y: 402 }, { x: 370, y: 434 }, { x: 386, y: 2 }, { x: 386, y: 34 }, { x: 386, y: 98 }, { x: 386, y: 130 },
        { x: 386, y: 162 }, { x: 386, y: 226 }, { x: 386, y: 274 }, { x: 386, y: 322 }, { x: 386, y: 434 }, { x: 386, y: 466 }, { x: 402, y: 66 }, { x: 402, y: 98 },
        { x: 402, y: 146 }, { x: 402, y: 178 }, { x: 402, y: 210 }, { x: 402, y: 290 }, { x: 402, y: 354 }, { x: 402, y: 370 }, { x: 402, y: 386 }, { x: 402, y: 418 },
        { x: 402, y: 450 }, { x: 402, y: 466 }, { x: 418, y: 18 }, { x: 418, y: 34 }, { x: 418, y: 50 }, { x: 418, y: 66 }, { x: 418, y: 82 }, { x: 418, y: 114 },
        { x: 418, y: 194 }, { x: 418, y: 210 }, { x: 418, y: 258 }, { x: 418, y: 274 }, { x: 418, y: 338 }, { x: 418, y: 370 }, { x: 418, y: 418 }, { x: 418, y: 482 },
        { x: 434, y: 18 }, { x: 434, y: 50 }, { x: 434, y: 66 }, { x: 434, y: 98 }, { x: 434, y: 178 }, { x: 434, y: 242 }, { x: 434, y: 290 }, { x: 434, y: 306 },
        { x: 434, y: 322 }, { x: 434, y: 338 }, { x: 434, y: 370 }, { x: 434, y: 386 }, { x: 434, y: 402 }, { x: 434, y: 466 }, { x: 450, y: 2 }, { x: 450, y: 18 },
        { x: 450, y: 50 }, { x: 450, y: 66 }, { x: 450, y: 98 }, { x: 450, y: 162 }, { x: 450, y: 178 }, { x: 450, y: 194 }, { x: 450, y: 226 }, { x: 450, y: 242 },
        { x: 450, y: 306 }, { x: 450, y: 322 }, { x: 450, y: 338 }, { x: 450, y: 354 }, { x: 450, y: 386 }, { x: 450, y: 418 }, { x: 450, y: 450 }, { x: 450, y: 482 },
        { x: 466, y: 34 }, { x: 466, y: 50 }, { x: 466, y: 82 }, { x: 466, y: 114 }, { x: 466, y: 274 }, { x: 466, y: 306 }, { x: 466, y: 354 }, { x: 466, y: 370 },
        { x: 466, y: 418 }, { x: 466, y: 434 }, { x: 482, y: 2 }, { x: 482, y: 482 }
    ];

    ctx.miterLimit = 4;
    ctx.font = "15px";
    ctx.scale(1.0, 1.0);
    ctx.fillStyle = "#F82A13";
    ctx.strokeStyle = "#F82A13";
    ctx.lineWidth = 2;
    ctx.lineCap = "square";

    for (let i = 0; i < maze.length - 1; i += 2) {
        const point1 = maze[i];
        const point2 = maze[i + 1];
        ctx.moveTo(point1.x, point1.y);
        ctx.lineTo(point2.x, point2.y);
    }

    ctx.fill();
    ctx.stroke();
    ctx.restore();
    ctx.save();
}

function drawSolution() {
    const solution = [
        { x: 234, y: 4 }, { x: 234, y: 26 }, { x: 250, y: 26 }, { x: 250, y: 74 }, { x: 266, y: 74 }, { x: 266, y: 90 }, { x: 282, y: 90 },
        { x: 282, y: 58 }, { x: 298, y: 58 }, { x: 298, y: 10 }, { x: 314, y: 10 }, { x: 314, y: 26 }, { x: 346, y: 26 }, { x: 346, y: 10 }, { x: 362, y: 10 },
        { x: 362, y: 42 }, { x: 314, y: 42 }, { x: 314, y: 74 }, { x: 330, y: 74 }, { x: 330, y: 58 }, { x: 362, y: 58 }, { x: 362, y: 74 },
        { x: 346, y: 74 }, { x: 346, y: 90 }, { x: 330, y: 90 }, { x: 330, y: 138 }, { x: 298, y: 138 }, { x: 298, y: 122 }, { x: 314, y: 122 },
        { x: 314, y: 90 }, { x: 298, y: 90 }, { x: 298, y: 106 }, { x: 218, y: 106 }, { x: 218, y: 122 }, { x: 282, y: 122 }, { x: 282, y: 138 },
        { x: 266, y: 138 }, { x: 266, y: 154 }, { x: 346, y: 154 }, { x: 346, y: 170 }, { x: 314, y: 170 }, { x: 314, y: 186 }, { x: 378, y: 186 },
        { x: 378, y: 202 }, { x: 346, y: 202 }, { x: 346, y: 234 }, { x: 362, y: 234 }, { x: 362, y: 250 }, { x: 346, y: 250 }, { x: 346, y: 282 },
        { x: 362, y: 282 }, { x: 362, y: 266 }, { x: 394, y: 266 }, { x: 394, y: 298 }, { x: 426, y: 298 }, { x: 426, y: 314 }, { x: 394, y: 314 },
        { x: 394, y: 330 }, { x: 426, y: 330 }, { x: 426, y: 346 }, { x: 442, y: 346 }, { x: 442, y: 362 }, { x: 426, y: 362 }, { x: 426, y: 378 },
        { x: 330, y: 378 }, { x: 330, y: 394 }, { x: 314, y: 394 }, { x: 314, y: 378 }, { x: 298, y: 378 }, { x: 298, y: 394 }, { x: 282, y: 394 },
        { x: 282, y: 410 }, { x: 298, y: 410 }, { x: 298, y: 426 }, { x: 266, y: 426 }, { x: 266, y: 410 }, { x: 218, y: 410 }, { x: 218, y: 426 },
        { x: 234, y: 426 }, { x: 234, y: 442 }, { x: 250, y: 442 }, { x: 250, y: 458 }, { x: 218, y: 458 }, { x: 218, y: 442 }, { x: 122, y: 442 },
        { x: 122, y: 474 }, { x: 170, y: 474 }, { x: 170, y: 458 }, { x: 202, y: 458 }, { x: 202, y: 474 }, { x: 250, y: 474 }, { x: 250, y: 478 }
    ];


    const canvas = document.getElementById('maze');
    const ctx = canvas.getContext('2d');

    let i = solution.length - 1; // Start from the last point
    let point1 = { ...solution[i] };
    let point2 = { ...solution[i - 1] };


    function animate() {


        // Move point1 toward point2 gradually
        if (point1.x < point2.x) point1.x += 2;
        else if (point1.x > point2.x) point1.x -= 2;

        if (point1.y < point2.y) point1.y += 2;
        else if (point1.y > point2.y) point1.y -= 2;

        // Draw moving point
        ctx.fillStyle = "#F24827";
        ctx.fillRect(point1.x - 4, point1.y - 4, 8, 8);

        // If reached point2, move to the next segment
        if (Math.abs(point1.x - point2.x) < 2 && Math.abs(point1.y - point2.y) < 2) {
            i--;
            if (i > 0) {
                point1 = { ...solution[i] };
                point2 = { ...solution[i - 1] };
            } else {
                clearInterval(interval); // Stop animation when reaching the end
                clearSolution();
            }
        }
    }

    const interval = setInterval(animate, 10); // Adjust speed (smaller = smoother)
}

function clearSolution() {
    const solution = [
        { x: 234, y: 4 }, { x: 234, y: 26 }, { x: 250, y: 26 }, { x: 250, y: 74 }, { x: 266, y: 74 }, { x: 266, y: 90 }, { x: 282, y: 90 },
        { x: 282, y: 58 }, { x: 298, y: 58 }, { x: 298, y: 10 }, { x: 314, y: 10 }, { x: 314, y: 26 }, { x: 346, y: 26 }, { x: 346, y: 10 }, { x: 362, y: 10 },
        { x: 362, y: 42 }, { x: 314, y: 42 }, { x: 314, y: 74 }, { x: 330, y: 74 }, { x: 330, y: 58 }, { x: 362, y: 58 }, { x: 362, y: 74 },
        { x: 346, y: 74 }, { x: 346, y: 90 }, { x: 330, y: 90 }, { x: 330, y: 138 }, { x: 298, y: 138 }, { x: 298, y: 122 }, { x: 314, y: 122 },
        { x: 314, y: 90 }, { x: 298, y: 90 }, { x: 298, y: 106 }, { x: 218, y: 106 }, { x: 218, y: 122 }, { x: 282, y: 122 }, { x: 282, y: 138 },
        { x: 266, y: 138 }, { x: 266, y: 154 }, { x: 346, y: 154 }, { x: 346, y: 170 }, { x: 314, y: 170 }, { x: 314, y: 186 }, { x: 378, y: 186 },
        { x: 378, y: 202 }, { x: 346, y: 202 }, { x: 346, y: 234 }, { x: 362, y: 234 }, { x: 362, y: 250 }, { x: 346, y: 250 }, { x: 346, y: 282 },
        { x: 362, y: 282 }, { x: 362, y: 266 }, { x: 394, y: 266 }, { x: 394, y: 298 }, { x: 426, y: 298 }, { x: 426, y: 314 }, { x: 394, y: 314 },
        { x: 394, y: 330 }, { x: 426, y: 330 }, { x: 426, y: 346 }, { x: 442, y: 346 }, { x: 442, y: 362 }, { x: 426, y: 362 }, { x: 426, y: 378 },
        { x: 330, y: 378 }, { x: 330, y: 394 }, { x: 314, y: 394 }, { x: 314, y: 378 }, { x: 298, y: 378 }, { x: 298, y: 394 }, { x: 282, y: 394 },
        { x: 282, y: 410 }, { x: 298, y: 410 }, { x: 298, y: 426 }, { x: 266, y: 426 }, { x: 266, y: 410 }, { x: 218, y: 410 }, { x: 218, y: 426 },
        { x: 234, y: 426 }, { x: 234, y: 442 }, { x: 250, y: 442 }, { x: 250, y: 458 }, { x: 218, y: 458 }, { x: 218, y: 442 }, { x: 122, y: 442 },
        { x: 122, y: 474 }, { x: 170, y: 474 }, { x: 170, y: 458 }, { x: 202, y: 458 }, { x: 202, y: 474 }, { x: 250, y: 474 }, { x: 250, y: 478 }
    ];

    const canvas = document.getElementById('maze');
    const ctx = canvas.getContext('2d');

    let i = solution.length - 1; // Start from the last point
    let point1 = { ...solution[i] };
    let point2 = { ...solution[i - 1] };


    function animate() {


        // Move point1 toward point2 gradually
        if (point1.x < point2.x) point1.x += 2;
        else if (point1.x > point2.x) point1.x -= 2;

        if (point1.y < point2.y) point1.y += 2;
        else if (point1.y > point2.y) point1.y -= 2;

        // Draw moving point
        ctx.clearRect(point1.x - 4, point1.y - 4, 8, 8);

        // If reached point2, move to the next segment
        if (Math.abs(point1.x - point2.x) < 2 && Math.abs(point1.y - point2.y) < 2) {
            i--;
            if (i > 0) {
                point1 = { ...solution[i] };
                point2 = { ...solution[i - 1] };
            } else {
                clearInterval(interval); // Stop animation when reaching the end
            }
        }
    }

    const interval = setInterval(animate, 10); // Adjust speed (smaller = smoother)
}

function erupting() {
    const solution = [
        { x: 234, y: 4 }, { x: 234, y: 26 }, { x: 250, y: 26 }, { x: 250, y: 74 }, { x: 266, y: 74 }, { x: 266, y: 90 }, { x: 282, y: 90 },
        { x: 282, y: 58 }, { x: 298, y: 58 }, { x: 298, y: 10 }, { x: 314, y: 10 }, { x: 314, y: 26 }, { x: 346, y: 26 }, { x: 346, y: 10 }, { x: 362, y: 10 },
        { x: 362, y: 42 }, { x: 314, y: 42 }, { x: 314, y: 74 }, { x: 330, y: 74 }, { x: 330, y: 58 }, { x: 362, y: 58 }, { x: 362, y: 74 },
        { x: 346, y: 74 }, { x: 346, y: 90 }, { x: 330, y: 90 }, { x: 330, y: 138 }, { x: 298, y: 138 }, { x: 298, y: 122 }, { x: 314, y: 122 },
        { x: 314, y: 90 }, { x: 298, y: 90 }, { x: 298, y: 106 }, { x: 218, y: 106 }, { x: 218, y: 122 }, { x: 282, y: 122 }, { x: 282, y: 138 },
        { x: 266, y: 138 }, { x: 266, y: 154 }, { x: 346, y: 154 }, { x: 346, y: 170 }, { x: 314, y: 170 }, { x: 314, y: 186 }, { x: 378, y: 186 },
        { x: 378, y: 202 }, { x: 346, y: 202 }, { x: 346, y: 234 }, { x: 362, y: 234 }, { x: 362, y: 250 }, { x: 346, y: 250 }, { x: 346, y: 282 },
        { x: 362, y: 282 }, { x: 362, y: 266 }, { x: 394, y: 266 }, { x: 394, y: 298 }, { x: 426, y: 298 }, { x: 426, y: 314 }, { x: 394, y: 314 },
        { x: 394, y: 330 }, { x: 426, y: 330 }, { x: 426, y: 346 }, { x: 442, y: 346 }, { x: 442, y: 362 }, { x: 426, y: 362 }, { x: 426, y: 378 },
        { x: 330, y: 378 }, { x: 330, y: 394 }, { x: 314, y: 394 }, { x: 314, y: 378 }, { x: 298, y: 378 }, { x: 298, y: 394 }, { x: 282, y: 394 },
        { x: 282, y: 410 }, { x: 298, y: 410 }, { x: 298, y: 426 }, { x: 266, y: 426 }, { x: 266, y: 410 }, { x: 218, y: 410 }, { x: 218, y: 426 },
        { x: 234, y: 426 }, { x: 234, y: 442 }, { x: 250, y: 442 }, { x: 250, y: 458 }, { x: 218, y: 458 }, { x: 218, y: 442 }, { x: 122, y: 442 },
        { x: 122, y: 474 }, { x: 170, y: 474 }, { x: 170, y: 458 }, { x: 202, y: 458 }, { x: 202, y: 474 }, { x: 250, y: 474 }, { x: 250, y: 478 }
    ];
    disableMovement();
    stopCountdown();

    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');

    let i = solution.length - 1; // Start from the last point
    let point1 = { ...solution[i] };
    let point2 = { ...solution[i - 1] };


    function animate() {


        // Move point1 toward point2 gradually
        if (point1.x < point2.x) point1.x += 2;
        else if (point1.x > point2.x) point1.x -= 2;

        if (point1.y < point2.y) point1.y += 2;
        else if (point1.y > point2.y) point1.y -= 2;

        // Draw moving point
        ctx.fillStyle = "#F24827";
        ctx.fillRect(point1.x - 4, point1.y - 4, 8, 8);

        // If reached point2, move to the next segment
        if (Math.abs(point1.x - point2.x) < 2 && Math.abs(point1.y - point2.y) < 2) {
            i--;
            if (i > 0) {
                point1 = { ...solution[i] };
                point2 = { ...solution[i - 1] };
            } else {
                clearInterval(interval); // Stop animation when reaching the end
                eruption();
            }
        }
    }

    const interval = setInterval(animate, 3); // Adjust speed (smaller = smoother)
}

function hint() {
    const solution = [
        { x: 234, y: 4 }, { x: 234, y: 26 }, { x: 250, y: 26 }, { x: 250, y: 74 }, { x: 266, y: 74 }, { x: 266, y: 90 }, { x: 282, y: 90 },
        { x: 282, y: 58 }, { x: 298, y: 58 }, { x: 298, y: 10 }, { x: 314, y: 10 }, { x: 314, y: 26 }, { x: 346, y: 26 }, { x: 346, y: 10 }, { x: 362, y: 10 },
        { x: 362, y: 42 }, { x: 314, y: 42 }, { x: 314, y: 74 }, { x: 330, y: 74 }, { x: 330, y: 58 }, { x: 362, y: 58 }, { x: 362, y: 74 },
        { x: 346, y: 74 }, { x: 346, y: 90 }, { x: 330, y: 90 }, { x: 330, y: 138 }, { x: 298, y: 138 }, { x: 298, y: 122 }, { x: 314, y: 122 },
        { x: 314, y: 90 }, { x: 298, y: 90 }, { x: 298, y: 106 }, { x: 218, y: 106 }, { x: 218, y: 122 }, { x: 282, y: 122 }, { x: 282, y: 138 },
        { x: 266, y: 138 }, { x: 266, y: 154 }, { x: 346, y: 154 }, { x: 346, y: 170 }, { x: 314, y: 170 }, { x: 314, y: 186 }, { x: 378, y: 186 },
        { x: 378, y: 202 }, { x: 346, y: 202 }, { x: 346, y: 234 }, { x: 362, y: 234 }, { x: 362, y: 250 }, { x: 346, y: 250 }, { x: 346, y: 282 },
        { x: 362, y: 282 }, { x: 362, y: 266 }, { x: 394, y: 266 }, { x: 394, y: 298 }, { x: 426, y: 298 }, { x: 426, y: 314 }, { x: 394, y: 314 },
        { x: 394, y: 330 }, { x: 426, y: 330 }, { x: 426, y: 346 }, { x: 442, y: 346 }, { x: 442, y: 362 }, { x: 426, y: 362 }, { x: 426, y: 378 },
        { x: 330, y: 378 }, { x: 330, y: 394 }, { x: 314, y: 394 }, { x: 314, y: 378 }, { x: 298, y: 378 }, { x: 298, y: 394 }, { x: 282, y: 394 },
        { x: 282, y: 410 }, { x: 298, y: 410 }, { x: 298, y: 426 }, { x: 266, y: 426 }, { x: 266, y: 410 }, { x: 218, y: 410 }, { x: 218, y: 426 },
        { x: 234, y: 426 }, { x: 234, y: 442 }, { x: 250, y: 442 }, { x: 250, y: 458 }, { x: 218, y: 458 }, { x: 218, y: 442 }, { x: 122, y: 442 },
        { x: 122, y: 474 }, { x: 170, y: 474 }, { x: 170, y: 458 }, { x: 202, y: 458 }, { x: 202, y: 474 }, { x: 250, y: 474 }, { x: 250, y: 478 }
    ];

    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');

    // Draw the full solution path instantly
    ctx.strokeStyle = "#F24827";
    ctx.lineWidth = 6;
    ctx.beginPath();
    ctx.moveTo(solution[0].x, solution[0].y);
    
    for (let i = 1; i < solution.length; i++) {
        ctx.lineTo(solution[i].x, solution[i].y);
    }
    
    ctx.stroke();

    // Function to clear the solution after 1 second
    setTimeout(() => {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
    }, 900);
}

        const canvas = document.getElementById("canvas");
        const ctx = canvas.getContext("2d");

        const character = {
            x: 250,
            y: 500,
            width: 10,
            height: 10,
            speed: 2 // Reduce speed for smoother effect
        };


        let keys = {};
        let pastPositions = []; // Stores recent positions
        let finished = false;
        let movementEnabled = true;

        // Listen for key presses
        window.addEventListener("keydown", (e) => { keys[e.key] = true; });
        window.addEventListener("keyup", (e) => { keys[e.key] = false; });

let hintCount = 0;

        // Listen for key presses
        window.addEventListener("keydown", (e) => { 
            keys[e.key] = true;

            // Ensure hint is triggered only once per key press
            if (e.key === " " && hintCount < 3) { 
                hint();
                hintCount++;
            }
        });

        window.addEventListener("keyup", (e) => { 
            keys[e.key] = false;
        });

        function update() {
            if(movementEnabled){
                // Example of moving up (ArrowUp) while checking for collisions with all edges
                if (!isCollidingWithTopEdge(character) && keys["ArrowUp"]) {
                    character.y -= character.speed;
                }

                // Example of moving down (ArrowDown)
                if (!isCollidingWithBottomEdge(character) && keys["ArrowDown"]) {
                    character.y += character.speed;
                }

                // Example of moving left (ArrowLeft)
                if (!isCollidingWithLeftEdge(character) && keys["ArrowLeft"]) {
                    character.x -= character.speed;
                }

                // Example of moving right (ArrowRight)
                if (!isCollidingWithRightEdge(character) && keys["ArrowRight"]) {
                    character.x += character.speed;
                }
            }
            
            
            // Reached the end
            if(isCollidingFinishLine(character)){
                if(!finished){
                    finished = true;
                    erupting();
                }
                
            }


            // Keep character inside canvas bounds
            character.x = Math.max(3, Math.min(canvas.width - character.width-19, character.x));
            character.y = Math.max(0, Math.min(canvas.height - character.height, character.y));

            // Store past position
            pastPositions.push({ x: character.x, y: character.y });

            // Keep track of positions (reduce time for smoother effect)
            if (pastPositions.length > 1) { // 10 frames ≈ 0.16s delay
                let oldPos = pastPositions.shift();
                ctx.clearRect(oldPos.x, oldPos.y, character.width, character.height);
            }
        }

        function draw() {
            ctx.fillStyle = "#F24827"
            ctx.fillRect(character.x, character.y, character.width, character.height);
        }
        function gameLoop() {
            update();
            draw();
            requestAnimationFrame(gameLoop);
        }
        gameLoop();

        function isColliding(x, y) {
            const maze = [
                { x: 2, y: 2 }, { x: 226, y: 2 }, { x: 242, y: 2 }, { x: 482, y: 2 }, { x: 34, y: 18 }, { x: 98, y: 18 }, { x: 130, y: 18 }, { x: 162, y: 18 },
                { x: 178, y: 18 }, { x: 194, y: 18 }, { x: 242, y: 18 }, { x: 274, y: 18 }, { x: 386, y: 18 }, { x: 402, y: 18 }, { x: 418, y: 18 }, { x: 434, y: 18 },
                { x: 450, y: 18 }, { x: 466, y: 18 }, { x: 18, y: 34 }, { x: 50, y: 34 }, { x: 82, y: 34 }, { x: 130, y: 34 }, { x: 162, y: 34 }, { x: 178, y: 34 },
                { x: 226, y: 34 }, { x: 242, y: 34 }, { x: 306, y: 34 }, { x: 354, y: 34 }, { x: 370, y: 34 }, { x: 386, y: 34 }, { x: 402, y: 34 }, { x: 418, y: 34 },
                { x: 434, y: 34 }, { x: 466, y: 34 }, { x: 2, y: 50 }, { x: 50, y: 50 }, { x: 66, y: 50 }, { x: 114, y: 50 }, { x: 130, y: 50 }, { x: 146, y: 50 },
                { x: 178, y: 50 }, { x: 194, y: 50 }, { x: 226, y: 50 }, { x: 242, y: 50 }, { x: 258, y: 50 }, { x: 290, y: 50 }, { x: 322, y: 50 }, { x: 370, y: 50 },
                { x: 386, y: 50 }, { x: 434, y: 50 }, { x: 18, y: 66 }, { x: 66, y: 66 }, { x: 82, y: 66 }, { x: 178, y: 66 }, { x: 194, y: 66 }, { x: 210, y: 66 },
                { x: 226, y: 66 }, { x: 242, y: 66 }, { x: 258, y: 66 }, { x: 274, y: 66 }, { x: 290, y: 66 }, { x: 306, y: 66 }, { x: 338, y: 66 }, { x: 354, y: 66 },
                { x: 370, y: 66 }, { x: 386, y: 66 }, { x: 418, y: 66 }, { x: 482, y: 66 }, { x: 34, y: 82 }, { x: 50, y: 82 }, { x: 114, y: 82 }, { x: 146, y: 82 },
                { x: 226, y: 82 }, { x: 258, y: 82 }, { x: 290, y: 82 }, { x: 338, y: 82 }, { x: 354, y: 82 }, { x: 418, y: 82 }, { x: 450, y: 82 }, { x: 466, y: 82 },
                { x: 18, y: 98 }, { x: 34, y: 98 }, { x: 66, y: 98 }, { x: 114, y: 98 }, { x: 178, y: 98 }, { x: 194, y: 98 }, { x: 210, y: 98 }, { x: 290, y: 98 },
                { x: 338, y: 98 }, { x: 354, y: 98 }, { x: 434, y: 98 }, { x: 450, y: 98 }, { x: 34, y: 114 }, { x: 114, y: 114 }, { x: 130, y: 114 }, { x: 178, y: 114 },
                { x: 226, y: 114 }, { x: 306, y: 114 }, { x: 338, y: 114 }, { x: 370, y: 114 }, { x: 402, y: 114 }, { x: 434, y: 114 }, { x: 466, y: 114 }, { x: 482, y: 114 },
                { x: 18, y: 130 }, { x: 34, y: 130 }, { x: 50, y: 130 }, { x: 66, y: 130 }, { x: 114, y: 130 }, { x: 130, y: 130 }, { x: 146, y: 130 }, { x: 194, y: 130 },
                { x: 242, y: 130 }, { x: 274, y: 130 }, { x: 306, y: 130 }, { x: 322, y: 130 }, { x: 354, y: 130 }, { x: 466, y: 130 }, { x: 2, y: 146 }, { x: 18, y: 146 },
                { x: 34, y: 146 }, { x: 82, y: 146 }, { x: 98, y: 146 }, { x: 114, y: 146 }, { x: 178, y: 146 }, { x: 210, y: 146 }, { x: 226, y: 146 }, { x: 242, y: 146 },
                { x: 274, y: 146 }, { x: 354, y: 146 }, { x: 370, y: 146 }, { x: 434, y: 146 }, { x: 466, y: 146 }, { x: 482, y: 146 }, { x: 18, y: 162 }, { x: 66, y: 162 },
                { x: 82, y: 162 }, { x: 98, y: 162 }, { x: 114, y: 162 }, { x: 146, y: 162 }, { x: 210, y: 162 }, { x: 242, y: 162 }, { x: 258, y: 162 }, { x: 338, y: 162 },
                { x: 418, y: 162 }, { x: 466, y: 162 }, { x: 18, y: 178 }, { x: 34, y: 178 }, { x: 66, y: 178 }, { x: 114, y: 178 }, { x: 162, y: 178 }, { x: 210, y: 178 },
                { x: 242, y: 178 }, { x: 258, y: 178 }, { x: 274, y: 178 }, { x: 306, y: 178 }, { x: 322, y: 178 }, { x: 370, y: 178 }, { x: 402, y: 178 }, { x: 450, y: 178 },
                { x: 466, y: 178 }, { x: 482, y: 178 }, { x: 2, y: 194 }, { x: 34, y: 194 }, { x: 50, y: 194 }, { x: 66, y: 194 }, { x: 98, y: 194 }, { x: 146, y: 194 },
                { x: 258, y: 194 }, { x: 290, y: 194 }, { x: 306, y: 194 }, { x: 370, y: 194 }, { x: 386, y: 194 }, { x: 418, y: 194 }, { x: 450, y: 194 }, { x: 466, y: 194 },
                { x: 2, y: 210 }, { x: 50, y: 210 }, { x: 66, y: 210 }, { x: 82, y: 210 }, { x: 146, y: 210 }, { x: 162, y: 210 }, { x: 178, y: 210 }, { x: 194, y: 210 },
                { x: 210, y: 210 }, { x: 274, y: 210 }, { x: 354, y: 210 }, { x: 386, y: 210 }, { x: 450, y: 210 }, { x: 482, y: 210 }, { x: 18, y: 226 }, { x: 34, y: 226 },
                { x: 66, y: 226 }, { x: 178, y: 226 }, { x: 194, y: 226 }, { x: 210, y: 226 }, { x: 242, y: 226 }, { x: 306, y: 226 }, { x: 354, y: 226 }, { x: 370, y: 226 },
                { x: 402, y: 226 }, { x: 434, y: 226 }, { x: 450, y: 226 }, { x: 466, y: 226 }, { x: 18, y: 242 }, { x: 50, y: 242 }, { x: 130, y: 242 }, { x: 162, y: 242 },
                { x: 178, y: 242 }, { x: 210, y: 242 }, { x: 226, y: 242 }, { x: 258, y: 242 }, { x: 290, y: 242 }, { x: 322, y: 242 }, { x: 338, y: 242 }, { x: 354, y: 242 },
                { x: 370, y: 242 }, { x: 386, y: 242 }, { x: 418, y: 242 }, { x: 434, y: 242 }, { x: 450, y: 242 }, { x: 482, y: 242 }, { x: 66, y: 258 }, { x: 114, y: 258 },
                { x: 162, y: 258 }, { x: 178, y: 258 }, { x: 210, y: 258 }, { x: 226, y: 258 }, { x: 242, y: 258 }, { x: 290, y: 258 }, { x: 306, y: 258 }, { x: 322, y: 258 },
                { x: 354, y: 258 }, { x: 402, y: 258 }, { x: 418, y: 258 }, { x: 466, y: 258 }, { x: 2, y: 274 }, { x: 34, y: 274 }, { x: 50, y: 274 }, { x: 114, y: 274 },
                { x: 146, y: 274 }, { x: 210, y: 274 }, { x: 290, y: 274 }, { x: 322, y: 274 }, { x: 370, y: 274 }, { x: 386, y: 274 }, { x: 418, y: 274 }, { x: 466, y: 274 },
                { x: 34, y: 290 }, { x: 98, y: 290 }, { x: 130, y: 290 }, { x: 146, y: 290 }, { x: 242, y: 290 }, { x: 370, y: 290 }, { x: 402, y: 290 }, { x: 450, y: 290 },
                { x: 18, y: 306 }, { x: 66, y: 306 }, { x: 114, y: 306 }, { x: 194, y: 306 }, { x: 226, y: 306 }, { x: 242, y: 306 }, { x: 290, y: 306 }, { x: 338, y: 306 },
                { x: 354, y: 306 }, { x: 370, y: 306 }, { x: 386, y: 306 }, { x: 418, y: 306 }, { x: 450, y: 306 }, { x: 466, y: 306 }, { x: 2, y: 322 }, { x: 18, y: 322 },
                { x: 34, y: 322 }, { x: 50, y: 322 }, { x: 146, y: 322 }, { x: 178, y: 322 }, { x: 242, y: 322 }, { x: 258, y: 322 }, { x: 290, y: 322 }, { x: 306, y: 322 },
                { x: 338, y: 322 }, { x: 386, y: 322 }, { x: 402, y: 322 }, { x: 450, y: 322 }, { x: 466, y: 322 }, { x: 482, y: 322 }, { x: 18, y: 338 }, { x: 34, y: 338 },
                { x: 50, y: 338 }, { x: 98, y: 338 }, { x: 130, y: 338 }, { x: 146, y: 338 }, { x: 258, y: 338 }, { x: 290, y: 338 }, { x: 306, y: 338 }, { x: 322, y: 338 },
                { x: 370, y: 338 }, { x: 418, y: 338 }, { x: 434, y: 338 }, { x: 482, y: 338 }, { x: 50, y: 354 }, { x: 66, y: 354 }, { x: 98, y: 354 }, { x: 114, y: 354 },
                { x: 146, y: 354 }, { x: 210, y: 354 }, { x: 242, y: 354 }, { x: 290, y: 354 }, { x: 322, y: 354 }, { x: 338, y: 354 }, { x: 370, y: 354 }, { x: 386, y: 354 },
                { x: 418, y: 354 }, { x: 434, y: 354 }, { x: 2, y: 370 }, { x: 18, y: 370 }, { x: 34, y: 370 }, { x: 50, y: 370 }, { x: 82, y: 370 }, { x: 98, y: 370 },
                { x: 114, y: 370 }, { x: 146, y: 370 }, { x: 162, y: 370 }, { x: 226, y: 370 }, { x: 258, y: 370 }, { x: 418, y: 370 }, { x: 434, y: 370 }, { x: 466, y: 370 },
                { x: 18, y: 386 }, { x: 34, y: 386 }, { x: 98, y: 386 }, { x: 114, y: 386 }, { x: 146, y: 386 }, { x: 178, y: 386 }, { x: 242, y: 386 }, { x: 258, y: 386 },
                { x: 274, y: 386 }, { x: 290, y: 386 }, { x: 338, y: 386 }, { x: 386, y: 386 }, { x: 402, y: 386 }, { x: 450, y: 386 }, { x: 466, y: 386 }, { x: 482, y: 386 },
                { x: 34, y: 402 }, { x: 50, y: 402 }, { x: 82, y: 402 }, { x: 146, y: 402 }, { x: 178, y: 402 }, { x: 194, y: 402 }, { x: 210, y: 402 }, { x: 274, y: 402 },
                { x: 290, y: 402 }, { x: 338, y: 402 }, { x: 354, y: 402 }, { x: 418, y: 402 }, { x: 450, y: 402 }, { x: 466, y: 402 }, { x: 2, y: 418 }, { x: 18, y: 418 },
                { x: 50, y: 418 }, { x: 66, y: 418 }, { x: 162, y: 418 }, { x: 178, y: 418 }, { x: 226, y: 418 }, { x: 258, y: 418 }, { x: 274, y: 418 }, { x: 290, y: 418 },
                { x: 306, y: 418 }, { x: 322, y: 418 }, { x: 338, y: 418 }, { x: 354, y: 418 }, { x: 386, y: 418 }, { x: 402, y: 418 }, { x: 418, y: 418 }, { x: 434, y: 418 },
                { x: 18, y: 434 }, { x: 34, y: 434 }, { x: 114, y: 434 }, { x: 226, y: 434 }, { x: 242, y: 434 }, { x: 306, y: 434 }, { x: 322, y: 434 }, { x: 338, y: 434 },
                { x: 354, y: 434 }, { x: 370, y: 434 }, { x: 386, y: 434 }, { x: 418, y: 434 }, { x: 434, y: 434 }, { x: 466, y: 434 }, { x: 2, y: 450 }, { x: 50, y: 450 },
                { x: 66, y: 450 }, { x: 98, y: 450 }, { x: 130, y: 450 }, { x: 146, y: 450 }, { x: 162, y: 450 }, { x: 210, y: 450 }, { x: 226, y: 450 }, { x: 242, y: 450 },
                { x: 274, y: 450 }, { x: 290, y: 450 }, { x: 338, y: 450 }, { x: 386, y: 450 }, { x: 450, y: 450 }, { x: 466, y: 450 }, { x: 34, y: 466 }, { x: 66, y: 466 },
                { x: 98, y: 466 }, { x: 114, y: 466 }, { x: 130, y: 466 }, { x: 162, y: 466 }, { x: 178, y: 466 }, { x: 194, y: 466 }, { x: 210, y: 466 }, { x: 258, y: 466 },
                { x: 274, y: 466 }, { x: 306, y: 466 }, { x: 322, y: 466 }, { x: 370, y: 466 }, { x: 386, y: 466 }, { x: 402, y: 466 }, { x: 466, y: 466 }, { x: 482, y: 466 },
                { x: 2, y: 482 }, { x: 242, y: 482 }, { x: 258, y: 482 }, { x: 482, y: 482 }, { x: 2, y: 2 }, { x: 2, y: 482 }, { x: 18, y: 2 }, { x: 18, y: 18 },
                { x: 18, y: 66 }, { x: 18, y: 130 }, { x: 18, y: 162 }, { x: 18, y: 178 }, { x: 18, y: 242 }, { x: 18, y: 258 }, { x: 18, y: 290 }, { x: 18, y: 306 },
                { x: 18, y: 322 }, { x: 18, y: 354 }, { x: 18, y: 386 }, { x: 18, y: 418 }, { x: 18, y: 466 }, { x: 18, y: 482 }, { x: 34, y: 130 }, { x: 34, y: 146 },
                { x: 34, y: 226 }, { x: 34, y: 242 }, { x: 34, y: 258 }, { x: 34, y: 290 }, { x: 34, y: 306 }, { x: 34, y: 322 }, { x: 34, y: 354 }, { x: 34, y: 370 },
                { x: 34, y: 402 }, { x: 34, y: 434 }, { x: 34, y: 450 }, { x: 34, y: 466 }, { x: 50, y: 34 }, { x: 50, y: 50 }, { x: 50, y: 82 }, { x: 50, y: 130 },
                { x: 50, y: 162 }, { x: 50, y: 178 }, { x: 50, y: 194 }, { x: 50, y: 226 }, { x: 50, y: 242 }, { x: 50, y: 274 }, { x: 50, y: 322 }, { x: 50, y: 402 },
                { x: 50, y: 418 }, { x: 50, y: 450 }, { x: 66, y: 18 }, { x: 66, y: 98 }, { x: 66, y: 146 }, { x: 66, y: 162 }, { x: 66, y: 178 }, { x: 66, y: 194 },
                { x: 66, y: 210 }, { x: 66, y: 242 }, { x: 66, y: 306 }, { x: 66, y: 322 }, { x: 66, y: 370 }, { x: 66, y: 434 }, { x: 66, y: 450 }, { x: 66, y: 466 },
                { x: 82, y: 66 }, { x: 82, y: 82 }, { x: 82, y: 130 }, { x: 82, y: 146 }, { x: 82, y: 178 }, { x: 82, y: 210 }, { x: 82, y: 242 }, { x: 82, y: 258 },
                { x: 82, y: 290 }, { x: 82, y: 386 }, { x: 82, y: 418 }, { x: 82, y: 450 }, { x: 82, y: 466 }, { x: 82, y: 482 }, { x: 98, y: 66 }, { x: 98, y: 82 },
                { x: 98, y: 114 }, { x: 98, y: 162 }, { x: 98, y: 194 }, { x: 98, y: 210 }, { x: 98, y: 242 }, { x: 98, y: 258 }, { x: 98, y: 290 }, { x: 98, y: 322 },
                { x: 98, y: 370 }, { x: 98, y: 386 }, { x: 98, y: 402 }, { x: 98, y: 434 }, { x: 98, y: 450 }, { x: 98, y: 466 }, { x: 114, y: 2 }, { x: 114, y: 50 },
                { x: 114, y: 82 }, { x: 114, y: 98 }, { x: 114, y: 146 }, { x: 114, y: 178 }, { x: 114, y: 210 }, { x: 114, y: 242 }, { x: 114, y: 258 }, { x: 114, y: 370 },
                { x: 114, y: 386 }, { x: 114, y: 402 }, { x: 114, y: 418 }, { x: 114, y: 466 }, { x: 130, y: 98 }, { x: 130, y: 146 }, { x: 130, y: 178 }, { x: 130, y: 210 },
                { x: 130, y: 242 }, { x: 130, y: 290 }, { x: 130, y: 322 }, { x: 130, y: 386 }, { x: 130, y: 402 }, { x: 130, y: 418 }, { x: 130, y: 450 }, { x: 130, y: 466 },
                { x: 146, y: 18 }, { x: 146, y: 50 }, { x: 146, y: 66 }, { x: 146, y: 98 }, { x: 146, y: 130 }, { x: 146, y: 146 }, { x: 146, y: 162 }, { x: 146, y: 194 },
                { x: 146, y: 258 }, { x: 146, y: 274 }, { x: 146, y: 322 }, { x: 146, y: 338 }, { x: 146, y: 386 }, { x: 146, y: 402 }, { x: 146, y: 418 }, { x: 146, y: 434 },
                { x: 162, y: 2 }, { x: 162, y: 18 }, { x: 162, y: 34 }, { x: 162, y: 66 }, { x: 162, y: 82 }, { x: 162, y: 114 }, { x: 162, y: 146 }, { x: 162, y: 210 },
                { x: 162, y: 242 }, { x: 162, y: 258 }, { x: 162, y: 274 }, { x: 162, y: 306 }, { x: 162, y: 338 }, { x: 162, y: 370 }, { x: 162, y: 386 }, { x: 162, y: 418 },
                { x: 162, y: 450 }, { x: 162, y: 466 }, { x: 178, y: 18 }, { x: 178, y: 34 }, { x: 178, y: 50 }, { x: 178, y: 82 }, { x: 178, y: 98 }, { x: 178, y: 114 },
                { x: 178, y: 130 }, { x: 178, y: 162 }, { x: 178, y: 194 }, { x: 178, y: 226 }, { x: 178, y: 242 }, { x: 178, y: 258 }, { x: 178, y: 274 }, { x: 178, y: 290 },
                { x: 178, y: 322 }, { x: 178, y: 338 }, { x: 194, y: 34 }, { x: 194, y: 50 }, { x: 194, y: 66 }, { x: 194, y: 98 }, { x: 194, y: 114 }, { x: 194, y: 130 },
                { x: 194, y: 162 }, { x: 194, y: 210 }, { x: 194, y: 226 }, { x: 194, y: 242 }, { x: 194, y: 258 }, { x: 194, y: 274 }, { x: 194, y: 290 }, { x: 194, y: 354 },
                { x: 194, y: 370 }, { x: 194, y: 402 }, { x: 194, y: 418 }, { x: 194, y: 434 }, { x: 194, y: 466 }, { x: 194, y: 482 }, { x: 210, y: 2 }, { x: 210, y: 162 },
                { x: 210, y: 194 }, { x: 210, y: 226 }, { x: 210, y: 242 }, { x: 210, y: 258 }, { x: 210, y: 274 }, { x: 210, y: 290 }, { x: 210, y: 306 }, { x: 210, y: 354 },
                { x: 210, y: 386 }, { x: 210, y: 434 }, { x: 210, y: 450 }, { x: 210, y: 466 }, { x: 226, y: 2 }, { x: 226, y: 50 }, { x: 226, y: 66 }, { x: 226, y: 82 },
                { x: 226, y: 130 }, { x: 226, y: 146 }, { x: 226, y: 162 }, { x: 226, y: 194 }, { x: 226, y: 226 }, { x: 226, y: 242 }, { x: 226, y: 258 }, { x: 226, y: 290 },
                { x: 226, y: 306 }, { x: 226, y: 386 }, { x: 226, y: 434 }, { x: 226, y: 450 }, { x: 242, y: 146 }, { x: 242, y: 162 }, { x: 242, y: 178 }, { x: 242, y: 226 },
                { x: 242, y: 258 }, { x: 242, y: 306 }, { x: 242, y: 322 }, { x: 242, y: 370 }, { x: 242, y: 418 }, { x: 242, y: 434 }, { x: 258, y: 18 }, { x: 258, y: 50 },
                { x: 258, y: 82 }, { x: 258, y: 98 }, { x: 258, y: 130 }, { x: 258, y: 178 }, { x: 258, y: 242 }, { x: 258, y: 258 }, { x: 258, y: 274 }, { x: 258, y: 290 },
                { x: 258, y: 306 }, { x: 258, y: 322 }, { x: 258, y: 370 }, { x: 258, y: 386 }, { x: 258, y: 434 }, { x: 258, y: 482 }, { x: 274, y: 18 }, { x: 274, y: 34 },
                { x: 274, y: 50 }, { x: 274, y: 82 }, { x: 274, y: 226 }, { x: 274, y: 242 }, { x: 274, y: 258 }, { x: 274, y: 274 }, { x: 274, y: 290 }, { x: 274, y: 338 },
                { x: 274, y: 386 }, { x: 274, y: 418 }, { x: 274, y: 450 }, { x: 274, y: 466 }, { x: 290, y: 2 }, { x: 290, y: 50 }, { x: 290, y: 66 }, { x: 290, y: 98 },
                { x: 290, y: 114 }, { x: 290, y: 146 }, { x: 290, y: 194 }, { x: 290, y: 226 }, { x: 290, y: 242 }, { x: 290, y: 258 }, { x: 290, y: 274 }, { x: 290, y: 290 },
                { x: 290, y: 306 }, { x: 290, y: 322 }, { x: 290, y: 338 }, { x: 290, y: 354 }, { x: 290, y: 370 }, { x: 290, y: 386 }, { x: 306, y: 18 }, { x: 306, y: 66 },
                { x: 306, y: 98 }, { x: 306, y: 114 }, { x: 306, y: 162 }, { x: 306, y: 194 }, { x: 306, y: 210 }, { x: 306, y: 226 }, { x: 306, y: 322 }, { x: 306, y: 354 },
                { x: 306, y: 386 }, { x: 306, y: 402 }, { x: 306, y: 418 }, { x: 306, y: 466 }, { x: 322, y: 2 }, { x: 322, y: 18 }, { x: 322, y: 50 }, { x: 322, y: 66 },
                { x: 322, y: 82 }, { x: 322, y: 130 }, { x: 322, y: 210 }, { x: 322, y: 258 }, { x: 322, y: 306 }, { x: 322, y: 322 }, { x: 322, y: 354 }, { x: 322, y: 386 },
                { x: 322, y: 434 }, { x: 322, y: 482 }, { x: 338, y: 2 }, { x: 338, y: 18 }, { x: 338, y: 66 }, { x: 338, y: 82 }, { x: 338, y: 114 }, { x: 338, y: 146 },
                { x: 338, y: 194 }, { x: 338, y: 290 }, { x: 338, y: 306 }, { x: 338, y: 322 }, { x: 338, y: 338 }, { x: 338, y: 354 }, { x: 338, y: 386 }, { x: 338, y: 434 },
                { x: 354, y: 18 }, { x: 354, y: 34 }, { x: 354, y: 82 }, { x: 354, y: 98 }, { x: 354, y: 146 }, { x: 354, y: 178 }, { x: 354, y: 210 }, { x: 354, y: 226 },
                { x: 354, y: 258 }, { x: 354, y: 274 }, { x: 354, y: 290 }, { x: 354, y: 306 }, { x: 354, y: 322 }, { x: 354, y: 370 }, { x: 354, y: 434 }, { x: 354, y: 450 },
                { x: 370, y: 18 }, { x: 370, y: 114 }, { x: 370, y: 130 }, { x: 370, y: 162 }, { x: 370, y: 226 }, { x: 370, y: 258 }, { x: 370, y: 274 }, { x: 370, y: 290 },
                { x: 370, y: 338 }, { x: 370, y: 354 }, { x: 370, y: 402 }, { x: 370, y: 434 }, { x: 386, y: 2 }, { x: 386, y: 34 }, { x: 386, y: 98 }, { x: 386, y: 130 },
                { x: 386, y: 162 }, { x: 386, y: 226 }, { x: 386, y: 274 }, { x: 386, y: 322 }, { x: 386, y: 434 }, { x: 386, y: 466 }, { x: 402, y: 66 }, { x: 402, y: 98 },
                { x: 402, y: 146 }, { x: 402, y: 178 }, { x: 402, y: 210 }, { x: 402, y: 290 }, { x: 402, y: 354 }, { x: 402, y: 370 }, { x: 402, y: 386 }, { x: 402, y: 418 },
                { x: 402, y: 450 }, { x: 402, y: 466 }, { x: 418, y: 18 }, { x: 418, y: 34 }, { x: 418, y: 50 }, { x: 418, y: 66 }, { x: 418, y: 82 }, { x: 418, y: 114 },
                { x: 418, y: 194 }, { x: 418, y: 210 }, { x: 418, y: 258 }, { x: 418, y: 274 }, { x: 418, y: 338 }, { x: 418, y: 370 }, { x: 418, y: 418 }, { x: 418, y: 482 },
                { x: 434, y: 18 }, { x: 434, y: 50 }, { x: 434, y: 66 }, { x: 434, y: 98 }, { x: 434, y: 178 }, { x: 434, y: 242 }, { x: 434, y: 290 }, { x: 434, y: 306 },
                { x: 434, y: 322 }, { x: 434, y: 338 }, { x: 434, y: 370 }, { x: 434, y: 386 }, { x: 434, y: 402 }, { x: 434, y: 466 }, { x: 450, y: 2 }, { x: 450, y: 18 },
                { x: 450, y: 50 }, { x: 450, y: 66 }, { x: 450, y: 98 }, { x: 450, y: 162 }, { x: 450, y: 178 }, { x: 450, y: 194 }, { x: 450, y: 226 }, { x: 450, y: 242 },
                { x: 450, y: 306 }, { x: 450, y: 322 }, { x: 450, y: 338 }, { x: 450, y: 354 }, { x: 450, y: 386 }, { x: 450, y: 418 }, { x: 450, y: 450 }, { x: 450, y: 482 },
                { x: 466, y: 34 }, { x: 466, y: 50 }, { x: 466, y: 82 }, { x: 466, y: 114 }, { x: 466, y: 274 }, { x: 466, y: 306 }, { x: 466, y: 354 }, { x: 466, y: 370 },
                { x: 466, y: 418 }, { x: 466, y: 434 }, { x: 482, y: 2 }, { x: 482, y: 482 }
            ];
            for (let i = 0; i < maze.length - 1; i += 2) {
                const point1 = maze[i];
                const point2 = maze[i + 1];
        
                let px = point1.x;
                let py = point1.y;
        
                while (px !== point2.x || py !== point2.y) {
                    if (px === x && py === y) return true; // Collision found
        
                    // Move towards point2 in steps of 2
                    if (px < point2.x) px += 2;
                    else if (px > point2.x) px -= 2;
        
                    if (py < point2.y) py += 2;
                    else if (py > point2.y) py -= 2;
                }
            }
            return false; // No collision detected
        }   
        function isCollidingWithRightEdge(character) {
            for (let y = character.y; y <= character.y + character.height; y++) {
                if (isColliding(character.x + character.width + character.speed, y)) {
                    return true;
                }
            }
            return false;
        }        
        function isCollidingWithLeftEdge(character) {
            for (let y = character.y; y <= character.y + character.height; y++) {
                if (isColliding(character.x - character.speed, y)) {
                    return true;
                }
            }
            return false;
        }
        function isCollidingWithBottomEdge(character) {
            for (let x = character.x; x <= character.x + character.width; x++) {
                if (isColliding(x, character.y + character.height + character.speed)) {
                    return true;
                }
            }
            return false;
        }       
        function isCollidingWithTopEdge(character) {
            for (let x = character.x; x <= character.x + character.width; x++) {
                if (isColliding(x, character.y - character.speed)) {
                    return true;
                }
            }
            return false;
        }     
        
        
        let selectElement = document.getElementById("options");
        let timerElement = document.getElementById("timer");

        let countdown; // Store interval ID
        let timerStarted = false;

// Update <h2> immediately when a new option is selected
selectElement.addEventListener("change", function() {
    timerElement.textContent = selectElement.value; // Update text
});

// Function to start countdown
function startCountdown(duration) {
    let timeLeft = duration;

    countdown = setInterval(() => {
        timerElement.textContent = timeLeft;
        timeLeft--;

        if (timeLeft < 0) {
            clearInterval(countdown);
            timerElement.textContent = "0";
            swal({
                title: 'Speči vulkan:',
                text: 'Zmankalo ti je časa. Izbruh neuspešen.',
                icon: 'error',
                button: {
                    text: 'OK',
                    className: 'swal-button-f',
                }
            }).then(() => {
                reset(); // Reset the game after clicking OK
            });
        }
    }, 1000);
}

// Function to stop countdown
function stopCountdown() {
    clearInterval(countdown);
}

// Keydown event to start timer only once
document.addEventListener("keydown", function(event) {
    if (event.key === "ArrowUp" && !timerStarted) {
        let selectedValue = parseInt(selectElement.value);
        startCountdown(selectedValue);
        timerStarted = true; // Prevent multiple starts
        document.getElementById("resitev").disabled = true;
        document.getElementById("options").disabled = true;
        document.getElementById("restart").disabled = false;
    }
});
        
        

    function isCollidingFinishLine(character) {
        if(character.y <= 2)
            return true;
        return false;
    }

    let alert = false;
    let eruptionInterval; // Store interval reference

function eruption() {
    const canvas = document.getElementById("canvas");
    const ctx = canvas.getContext("2d");

    // Create an array of circles with different sizes, positions, and speeds
    const circles = [
        { x: 0, y: 0, radius: 21, speed: 3, color: "#F24827" },
        { x: 50, y: 0, radius: 43, speed: 4, color: "#F24827" },
        { x: 100, y: 0, radius: 34, speed: 3, color: "#F24827" },
        { x: 200, y: 0, radius: 46, speed: 3, color: "#F24827" },
        { x: 150, y: 0, radius: 44, speed: 4, color: "#F24827" },
        { x: 250, y: 0, radius: 23, speed: 4, color: "#F24827" },
        { x: 300, y: 0, radius: 32, speed: 3, color: "#F24827" },
        { x: 350, y: 0, radius: 22, speed: 4, color: "#F24827" },
        { x: 400, y: 0, radius: 74, speed: 3, color: "#F24827" },
        { x: 470, y: 0, radius: 14, speed: 4, color: "#F24827" }
    ];

    function animate() {
        

        let allCirclesOut = true; // Check if all circles are off-screen

        // Loop through all circles and animate each one
        circles.forEach(circle => {
            ctx.beginPath();
            ctx.arc(circle.x, circle.y, circle.radius, 0, 2 * Math.PI);
            ctx.fillStyle = circle.color;  
            ctx.fill();
            
            if (circle.y < canvas.height + circle.radius) { 
                circle.y += circle.speed; // Move circles down
                allCirclesOut = false; // If any circle is still visible, keep animation running
            }
        });

        if (allCirclesOut) { 
            clearInterval(eruptionInterval); // Stop animation once all circles are out
        }

        if (!alert) {
            alert = true;

            setTimeout(() => {
                swal({
                    title: "Izbruh vulkana:",
                    text: "Vulkan je izbruhnil. Zmagal si.",
                    icon: "success",
                    button: {
                        text: "OK",
                        className: "swal-button-s",
                    }
                }).then(() => {
                    reset(); // Reset the game after clicking OK
                });
            }, 1500);
        }
    }

    // Start animation
    alert = false;
    eruptionInterval = setInterval(animate, 10); // Store interval so it can be cleared
}

// Function to reset the game
function reset() {
    character.x = 250;
    character.y = 500;
    finished = false;
    alert = false;
    timerStarted = false;
    hintCount = 0;
    
    clearInterval(eruptionInterval); // Stop any ongoing eruption animation
    clearInterval(countdown); // Stop the countdown

    const canvas = document.getElementById("canvas");
    const ctx = canvas.getContext("2d");
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    document.getElementById("resitev").disabled = false;
    document.getElementById("options").disabled = false;
    document.getElementById("restart").disabled = true;
    enableMovement();
    timerElement.textContent = selectElement.value;
}

    // Function to disable movement
function disableMovement() {
    movementEnabled = false;
}

// Function to enable movement
function enableMovement() {
    movementEnabled = true;
}


